(this["webpackJsonpburning-airlines-front-end"]=this["webpackJsonpburning-airlines-front-end"]||[]).push([[0],{20:function(e,t,n){},38:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),c=n.n(a),i=n(30),r=n.n(i),l=(n(20),n(8)),o=n(9),h=n(11),j=n(10),b=n(15),d=n(2),u=(n(38),n(14)),p=n.n(u),O="http://localhost:3000/flights",f=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={origin:"",destination:"",flights:[]},e.fetchFlights=function(){p.a.get(O,{params:{from:e.state.origin,to:e.state.destination}}).then((function(t){console.log(t.data),e.setState({flights:t.data})})).catch(console.warn)},e.handleChangeOrigin=function(t){e.setState({origin:t.target.value})},e.handleChangeDestination=function(t){e.setState({destination:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.fetchFlights()},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("br",{}),Object(s.jsx)("hr",{}),Object(s.jsx)("br",{}),Object(s.jsx)("h4",{children:"Choose from a list below"}),Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("label",{className:"dropDown",children:"Origin"}),Object(s.jsxs)("select",{value:this.state.origin,onChange:this.handleChangeOrigin,children:[Object(s.jsx)("option",{value:"Select",children:"Select"}),Object(s.jsx)("option",{value:"Perth",children:"Perth"}),Object(s.jsx)("option",{value:"Sydney",children:"Sydney"}),Object(s.jsx)("option",{value:"Melbourne",children:"Melbourne"})]}),Object(s.jsx)("span",{}),Object(s.jsx)("label",{className:"dropDown",children:"Destination"}),Object(s.jsxs)("select",{value:this.state.destination,onChange:this.handleChangeDestination,children:[Object(s.jsx)("option",{value:"Select",children:"Select"}),Object(s.jsx)("option",{value:"Perth",children:"Perth"}),Object(s.jsx)("option",{value:"Sydney",children:"Sydney"}),Object(s.jsx)("option",{value:"Melbourne",children:"Melbourne"})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"Check for Available Flights"})})]}),this.state.flights.map((function(e){return Object(s.jsxs)("li",{className:"flight-list",children:[Object(s.jsxs)("span",{children:["Date: ",e.scheduled]})," |",Object(s.jsx)("span",{children:Object(s.jsxs)(b.b,{to:"/flights/".concat(e.flight_number),children:["flight #: ",e.flight_number]})})," |",Object(s.jsxs)("span",{children:[e.from," to ",e.to]})," |",Object(s.jsxs)("span",{children:["Plane: ",e.airplane_name]})]},e.id)}))]})}}]),n}(c.a.Component),x=n(32),m=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.tempSelectedSeat;return t=t||"",Object(s.jsx)("div",{className:"seats",children:this.props.seats.map((function(n){return Object(s.jsxs)("span",{className:"".concat(n.status," ").concat(t===n.id&&"open"===n.status&&"selected"),onClick:function(){return e.props.onSelectSeat(n.id)},children:[e.props.row,n.col]},n.id)}))})}}]),n}(c.a.Component),g=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{children:this.props.seatMap.map((function(t){return Object(s.jsx)("div",{children:Object(s.jsx)(m,{row:Object.keys(t)[0],seats:Object.values(t)[0],tempSelectedSeat:e.props.tempSelectedSeat,onSelectSeat:e.props.onSelectSeat})},Object.keys(t)[0])}))})}}]),n}(c.a.Component),v="http://localhost:3000/reservations",S=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={tempSelectedSeat:null,seatMap:[],flight:{}},e.fetchSeats=function(){p.a.get(v,{params:{flight_number:e.props.match.params.flight_number}}).then((function(t){e.setState({seatMap:t.data.seat_map,flight:t.data.flight})}))},e.isSelectionValid=function(t){for(var n=e.state.seatMap,s=0;s<n.length;s++){var a=Object.values(n[s]);if(Object(x.a)(a,1)[0].find((function(e){return e.id===t&&"closed"===e.status})))return!0}return!1},e.onSelectSeat=function(t){console.log(t),e.isSelectionValid(t)||e.setState({tempSelectedSeat:t})},e.saveReservation=function(t){t.preventDefault(),p.a.post(v,{seat_id:e.state.tempSelectedSeat,user_id:2,flight_id:e.state.flight.id}).then((function(e){})).catch(console.warn)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.fetchSeats(),window.setInterval(this.fetchSeats,2e3)}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"reservation",children:[Object(s.jsx)("h4",{children:"Choose Your Seats"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"details",children:[Object(s.jsxs)("span",{children:["Departs On:\xa0",Object(s.jsxs)("strong",{children:[this.state.flight.scheduled,","]})]}),Object(s.jsxs)("span",{children:["Flight Number:\xa0",Object(s.jsxs)("strong",{children:[this.state.flight.flight_number,","]})]}),Object(s.jsxs)("span",{children:[this.state.flight.from," to\xa0",this.state.flight.to]})]}),Object(s.jsxs)("form",{onSubmit:this.saveReservation,children:[Object(s.jsx)(g,{seatMap:this.state.seatMap,tempSelectedSeat:this.state.tempSelectedSeat,onSelectSeat:this.onSelectSeat}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{children:"Book Reservation"})]})]})}}]),n}(c.a.Component),y=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsxs)("h1",{children:[Object(s.jsx)("span",{className:"fire",children:"B"}),Object(s.jsx)("span",{className:"burn",children:"u"}),Object(s.jsx)("span",{className:"burn",children:"r"}),Object(s.jsx)("span",{className:"fire",children:"n"}),Object(s.jsx)("span",{className:"burn",children:"i"}),Object(s.jsx)("span",{className:"fire",children:"n"}),Object(s.jsx)("span",{className:"burn",children:"g"})," ",Object(s.jsx)("span",{className:"fire",children:"A"}),Object(s.jsx)("span",{className:"burn",children:"i"}),Object(s.jsx)("span",{className:"burn",children:"r"}),Object(s.jsx)("span",{className:"fire",children:"l"}),"i",Object(s.jsx)("span",{className:"burn",children:"n"}),"e",Object(s.jsx)("span",{className:"fire",children:"s"})]}),Object(s.jsx)("h3",{children:"Check out our 'parachute only arrival' specials!"}),Object(s.jsxs)(b.a,{children:[Object(s.jsx)("nav",{children:Object(s.jsx)(b.b,{to:"/search",children:"Search Flights"})}),Object(s.jsx)(d.a,{exact:!0,path:"/search",component:f}),Object(s.jsx)(d.a,{exact:!0,path:"/flights/:flight_number",component:S})]}),Object(s.jsxs)("footer",{children:[Object(s.jsx)("hr",{}),"\xa9 Winging It Productions 2021 - ",Object(s.jsx)("em",{children:"For legal disputes or claims, please contact Scotty from Marketing"})]})]})}}]),n}(c.a.Component),N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),c(e),i(e)}))};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(y,{})}),document.getElementById("root")),N()}},[[62,1,2]]]);
//# sourceMappingURL=main.50b4ccf1.chunk.js.map